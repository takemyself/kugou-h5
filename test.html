<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>华晨3周年</title>
    <link rel="stylesheet" href="./css/index.css">
    <script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.js"></script>
    <script src="./js/echarts.js"></script>
</head>
<body>
<div class="warp">
    <ul class="out">
        <li class="li_items">
            <img src="./img/tenth/bg.png" width="100%" alt="">
            <div class="tenth_road">
                <img src="./img/tenth/road.png" width="736" alt="">
                <div class="tenth_run tenth_run1">
                    <img src="./img/tenth/run1.png" alt="">
                </div>
                <div class="tenth_run tenth_run2">
                    <img src="./img/tenth/run2.png" alt="">
                </div>
                <div class="tenth_run tenth_run3">
                    <img src="./img/tenth/run3.png" alt="">
                </div>
                <div class="tenth_run tenth_run4">
                    <img src="./img/tenth/run4.png" width="120" alt="">
                </div>
                <div class="tenth_run tenth_run5">
                    <img src="./img/tenth/run5.png" width="74" alt="">
                </div>
                <div class="tenth_run tenth_run6">
                    <img src="./img/tenth/run6.png" alt="">
                </div>
                <div class="tenth_runcar">
                    <img src="./img/tenth/car.png" alt="">
                </div>
            </div>
            <div class="tenth_road tenth_road_run">
                <img src="./img/tenth/road.png" width="736" alt="">
            </div>
        </li>

        <li class="li_items" style="left: 736px">
            <img src="./img/eleventh/bg.jpg" width="736" alt="">
            <div class="eleventh">
                <img class="eleventh_circle" src="./img/eleventh/circle1.png" height="414" alt="">
                <div class="eleventh_bg">
                    <img class="eleventh_bglu" src="./img/eleventh/lu1.png" width="900" alt="">
                </div>
                <div class="eleventh_bottombg">
                    <img class="eleventh_bgtop" src="./img/eleventh/top1.png" width="900" alt="">
                </div>
                <div class="eleventh_car">
                    <img src="./img/eleventh/car1.png" alt="">
                </div>
            </div>
            <div class="eleventh_text">
                <img src="./img/eleventh/text.png" width="100%" alt="">
            </div>
        </li>
    </ul>
</div>
</body>
<script>
  var allAni = {
    init: function () {
      var This=this;
      setTimeout(function () {
        This.tests();
      },200);
    },
    tests:function () {
      var This=this;
      this.alltomove('.out',0,-736,-21,20,2);
      setTimeout(function () {
        This.carEleRun('.eleventh_car');
        This.rounds('.eleventh_circle',0,1,720);
        This.bgEleRun('.eleventh_circle','circle');
        This.bgEleRun('.eleventh_bglu','lu');
        This.bgEleRun('.eleventh_bgtop','top');
      },500);
      setTimeout(function () {
        This.alltomove('.eleventh_text',-515,210,25,20,2);
      },1000);
      setTimeout(function () {
        This.rounds('.eleventh_text',0,5,360);
      },1800);
    },

    bgEleRun:function (obj,bg) {
      var num=1;
      var timer=setInterval(function () {
        num+=1;
        if(num>=3){
          clearInterval(timer);
        }
        $(obj).attr('src','./img/eleventh/'+bg+num+'.png')
      },1000);
    },

    carEleRun:function (obj) {
      var num=1;
      var timer=setInterval(function () {
        num-=0.02;
        if(num<=0.3){
          clearInterval(timer);
        }
        $(obj).css({'transform':'scale('+num+')'});
      },100);
    },




    carTenRun:function (obj) {
      var num=1;
      var timer=setInterval(function () {
        num-=0.05;
        if(num<=0){
          clearInterval(timer);
        }
        $(obj).css({'transform':'scale('+num+')'});
      },100);
    },
    roadRun:function (obj) {
      var num=0;
      var timer=setInterval(function () {
        num+=0.1;
        if(num>=1){
          num=0;
        }
        console.log(num);
        $(obj).css({'transform':'scale('+num+')'});
      },100);
    },

    peoMore:function () {
      for (var i=1;i<6;i++){
        for (var j=1;j<i+3;j++){
          var rand=Math.ceil(Math.random()*4);
          var le=250-i*45+j*80;
          var to=-15*i;
          var z=6-i;
          var str='<div class="night_peo" style="opacity:0;position: absolute;width: 65px;z-index:'+z+';left:'+le+'px;top: '+to+'px;"><img src="./img/nigth/ren'+rand+'.png" width="100%"></div>';
          $('.nigth_bottom').append(str);
        }
      }
    },
    rounds:function (obj,sta,adds,deg) {
      var num=sta;
      var timer=setInterval(function () {
        num+=adds;
        if (num>=deg){
          clearInterval(timer);
        }
        $(obj).css({'transform':'rotate('+num+'deg)'})
      },1000/60)
    },
    test:function () {
      var num=0;
      var str='<div class="suipian" style="background-color: yellow;transform: rotate3d(1,5,1,40deg) scale(2);"></div>';
      setTimeout(function () {
        num+=1;
        $('.eighth_text4').append(str);
      },100);
    },
    widthToShort:function (obj) {
      $(obj).animate({'width':'0'},3000);
    },

    //house
    toDeg:function (obj,sta,adds) {
      var num=sta;
      var timer=setInterval(function () {
        num-=adds;
        if (num<=0){
          clearInterval(timer);
        }
        $(obj).css({'transform':'rotate('+num+'deg)'})
      },1000/60)
    },

    alltomove:function (cla,sta,end,adds,times,direction) {
      var num=sta;
      var lastNum=0;
      var timer=setInterval(function () {
        num+=adds;
        lastNum=num-end;
        if(lastNum>-4&&lastNum<4){
          clearInterval(timer);
        }
        if(direction==1){
          $(cla).css({'right':num+'px'});
        }else if (direction==2){
          $(cla).css({'left':num+'px'});
        }else if(direction==3){
          $(cla).css({'top':num+'px'});
        }
      },times)
    },
    //门旋转
    toRound:function (obj) {
      var num=0;
      var timer=0;
      timer=setInterval(function () {
        num+=1;
        if (num>=130){
          clearTimeout(timer);
        }
        $(obj).css({'transform':'rotateY('+num+'deg)'});
      },1000/60)
    },
    //初始化
    liToInit:function () {
      for (var i=0;i<$('.li_items').length;i++){
        $('.li_items').eq(i).css({'left':100*i+'%'});
      }
    },

    //字顺序放大缩小
    textBig:function (obj,times,times2) {
      for (var i=0;i<$(obj).length;i++){
        (function (i) {
          setTimeout(function () {
            var num=1;
            var times=0;
            var j=0.1;
            var timer=setInterval(function () {
              num+=j;
              if (num>=2||num<=1){
                j=-j;
                times+=1;
              }
              if (times>=4){
                clearTimeout(timer);
              }
              $(obj).eq(i).css({'transform':'scale('+num+')'});
            },1000/60);
          },i*times2)
        })(i)
      }
    },
    //人停止
    stopPeo:function (obj) {
      var num=0;
      var cla=obj.substring(1);
      var timers=setInterval(function () {
        num=$(obj).attr('numb');
        if (num>=16){
          $(obj).attr('src','./img/people/17.png');
          $(obj).removeClass(cla);
        }
      },100);
    },

    //车移动
    thirdCarRun:function (car,distance,sta) {
      var num=-120;
      var tnum=0;
      var timer3=setInterval(function () {
        num+=2;
        tnum=num*0.1+280;
        if (num>distance){
          clearInterval(timer3);
        }
        var big=num/distance/2+1;
        if (!sta){
          $(car).css({'transform':'scale('+big+')'});
          $(car).css({'left':num+'px','top':tnum+'px'});
        }else {
          $(car).css({'right':num+'px','top':tnum+'px'});
        }
      },1000/60);
    },

    //屏幕移动
    tomove:function (cla,sta,times,direction) {
      if(direction==1){
        $(cla).animate({'right':sta},times);
      }else if (direction==2){
        $(cla).animate({'left':sta},times);
      }else if(direction==3){
        $(cla).animate({'top':sta},times);
      }
    },

    //背景上来
    bgRun:function (numRun,times,times2) {
      var num=0;
      for (var i=0;i<$(numRun).length;i++){
        (function (i) {
          setTimeout(function () {
            $(numRun).eq(i).animate({'marginTop':0},times);
          },i*times2)
        })(i)
      }
    },

    //display none to block
    toblock:function (cla) {
      $(cla).css({'display':'block'});
    },

    //缩放效果
    big:function (jitter) {
      var num=1;
      var adds=0.1;
      var lv=0;
      var timer=setInterval(function () {
        num+=adds;
        if (num>2||num<1){
          lv++;
          if (lv>3){
            clearInterval(timer);
            return;
          }
          adds=-adds;
        }
        console.log(num);
        $(jitter).css({'transform':'scale('+num+')'});
      },1000/60)
    },

    //文字抖动
    jitter:function (jitter) {
      var num=0;
      var adds=2;
      var lv=0;
      var timer=setInterval(function () {
        num+=adds;
        if (num>10||num<-10){
          lv++;
          if (lv>2){
            clearInterval(timer);
            $(jitter).css({'transform':'rotate('+0+'deg)'});
            return;
          }
          adds=-adds;
        }
        $(jitter).css({'transform':'rotate('+num+'deg)'});
      },1000/60)
    },

    //透明度出现
    noneToOut: function (noneToOut, times) {
      $(noneToOut).animate({'opacity': '1'}, times);
    },

    //文字+敲击
    rightin:function () {
      $('.keyboard').get(0).play();
      setTimeout(function () {
        $('.keyboard').get(0).pause();
      },4000);
    },

    //人走路
    peopleRun:function (peo) {
      $(peo).attr('src','./img/people/1.png');
      var num=0;
      var timer2=setInterval(function () {
        num+=1;
        if (num>16){
          num=1;
        }
        $(peo).attr('src','./img/people/'+num+'.png');
        $(peo).attr('numb',num);
      },100)
    },

    //车移动
    carRun:function (car,sta,turn) {
      var owidth=$(window).width();
      var num=0;
      var timer3=setInterval(function () {
        num+=1;
        //竖屏情况下
        if (owidth<450&&num>=100){
          num=100;
        }
        var tnum=1.5*num;
        if (num>200){
          clearInterval(timer3);
        }
        if (!sta){
          $(car).css({'transform':'scale('+num/100+')'});
          $(car).css({'left':num+'px','top':tnum+'px'});
        }else {
          $(car).css({'right':num+'px','top':tnum+'px'});
        }
      },1000/60);
      if (turn){
        clearInterval(timer3);
      }
    },

    //2015 做背景图片定位，挨个显示
    numRun:function (numRun,times,times2) {
      var num=0;
      for (var i=0;i<$(numRun).length;i++){
        (function (i) {
          setTimeout(function () {
            $(numRun).eq(i).animate({'opacity':1},times);
          },i*times2)
        })(i)
      }
    },
  };
  allAni.init();
</script>
</html>